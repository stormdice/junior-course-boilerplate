(this["webpackJsonpcsssr-school-course"]=this["webpackJsonpcsssr-school-course"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"a":[{"id":1,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product1.jpg","isInStock":true,"rating":4,"maxRating":5,"price":5000,"category":"clothes"},{"id":2,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product2.jpg","isInStock":false,"rating":4,"maxRating":5,"price":10000,"category":"books"},{"id":3,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product3.jpg","isInStock":true,"rating":4,"maxRating":5,"price":20000,"subPriceContent":15000,"discount":25,"category":"clothes"},{"id":4,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product4.jpg","isInStock":true,"rating":4,"maxRating":5,"price":30000,"subPriceContent":15000,"discount":50,"category":"books"},{"id":5,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u044f\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product5.jpg","isInStock":true,"rating":4,"maxRating":5,"price":25000,"category":"clothes"},{"id":6,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0435\u0441\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product6.jpg","isInStock":false,"rating":4,"maxRating":5,"price":40000,"subPriceContent":20000,"discount":50,"category":"books"}]}')},28:function(e,t,n){e.exports=n.p+"static/media/star-empty.d37f94e9.svg"},29:function(e,t,n){e.exports=n.p+"static/media/star-filled.63c63076.svg"},32:function(e,t,n){e.exports=n(52)},52:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),c=n(2),l=n(5),s=n(6),u=n(8),p=n(7),d=n(14),m=n.n(d),g=function(e){var t,n=function(t){Object(u.a)(r,t);var n=Object(p.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).handleChange=function(t){var n=t.target,r=0===m()(n.value)?"":m()(n.value);e.props.changeHandler(r)},e}return Object(s.a)(r,[{key:"render",value:function(){return a.a.createElement(e,Object.assign({},this.props,{onChange:this.handleChange}))}}]),r}(r.Component);return n.displayName="withInputValidation(".concat((t=e).displayName||t.name||"Component",")"),n},f=n(1),h=f.b.input.withConfig({displayName:"InputNumberstyled__Input",componentId:"a5tdy4-0"})(["width:100%;padding:5px 16px;box-sizing:border-box;font:inherit;font-size:14px;line-height:14px;border:1px solid hsl(213,17%,57%);&::placeholder{color:hsl(213,17%,57%);}"]),b=g((function(e){var t=e.name,n=e.placeholder,r=e.value,i=e.onChange;return a.a.createElement(h,{type:"text",name:t,placeholder:n,value:r,onChange:i,required:!0})})),y="filter/SET_MIN_PRICE_INPUT_VALUE",x=function(e,t){return{type:y,payload:{fieldName:e,fieldValue:t}}},v=Object(c.b)((function(e){var t=e.filter;return{value:t.min,placeholder:t.minProductPrice}}),(function(e){return{changeHandler:function(t){return e(x("min",t))}}}))((function(e){var t=e.placeholder,n=e.value,r=e.changeHandler;return a.a.createElement(b,{name:"min",placeholder:t,value:n,changeHandler:r})})),E=Object(c.b)((function(e){var t=e.filter;return{value:t.max,placeholder:t.maxProductPrice}}),(function(e){return{changeHandler:function(t){return e(x("max",t))}}}))((function(e){var t=e.placeholder,n=e.value,r=e.changeHandler;return a.a.createElement(b,{name:"max",placeholder:t,value:n,changeHandler:r})})),C=f.b.div.withConfig({displayName:"PriceRangestyled__Container",componentId:"sc-150xbc0-0"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:16px;"]),O=f.b.label.withConfig({displayName:"PriceRangestyled__InputContainer",componentId:"sc-150xbc0-1"})(["display:grid;grid-template-columns:auto 1fr;column-gap:12px;align-items:center;"]),_=f.b.span.withConfig({displayName:"PriceRangestyled__Label",componentId:"sc-150xbc0-2"})(["cursor:pointer;"]),P=function(){return a.a.createElement(C,null,a.a.createElement(O,null,a.a.createElement(_,null,"\u043e\u0442"),a.a.createElement(v,null)),a.a.createElement(O,null,a.a.createElement(_,null,"\u0434\u043e"),a.a.createElement(E,null)))},w=n(15),j=f.b.input.withConfig({displayName:"CategoryCheckboxstyled__Input",componentId:"vxolq-0"})(["position:absolute;width:1px;height:1px;border:0;margin:-1px;padding:0;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;&:hover + label{color:#323c48;border-color:#323c48;transition:border-color 0.2s,color 0.2s;}&:checked + label{background-color:#323c48;border-color:#323c48;color:#ffffff;}"]),k=f.b.label.withConfig({displayName:"CategoryCheckboxstyled__Label",componentId:"vxolq-1"})(["display:inline-block;vertical-align:top;box-sizing:border-box;padding:7px 15px;font-size:14px;line-height:14px;color:#7e8fa4;border:1px solid #7e8fa4;border-radius:15px;cursor:pointer;user-select:none;transition:border-color 0.2s,color 0.2s;"]),I=function(e){var t=e.name,n=e.title,r=e.onChange,i=e.categories.some((function(e){return e===t}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(j,{type:"checkbox",id:t,name:t,onChange:function(e){var t=e.target;r(t.checked)},checked:i}),a.a.createElement(k,{htmlFor:t},n))},R=f.b.ul.withConfig({displayName:"CategoryListstyled__List",componentId:"ycvi8r-0"})(["display:flex;flex-wrap:wrap;align-items:flex-start;margin-top:0;margin-bottom:0;padding-left:0;list-style:none;"]),N=f.b.li.withConfig({displayName:"CategoryListstyled__ListItem",componentId:"ycvi8r-1"})(["margin-right:16px;margin-bottom:16px;"]),S=function(e){var t=e.getCategoryChangeHandler,n=e.categories;return a.a.createElement(R,null,a.a.createElement(N,null,a.a.createElement(I,{name:"books",title:"Books",onChange:t("books"),categories:n})),a.a.createElement(N,null,a.a.createElement(I,{name:"clothes",title:"Clothes",onChange:t("clothes"),categories:n})))},T=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).parseCategoriesQueryFromUrl=function(){var t=new URL(window.location.href).searchParams.get("categories");e.props.setCategoriesQueryFromUrl(t)},e.getChangeHandler=function(t){return function(n){var r=new Set(e.props.categories);r[n?"add":"delete"](t),e.props.changeCategory(Object(w.a)(r))}},e}return Object(s.a)(n,[{key:"addCategoriesQueryToUrl",value:function(){var e=new URL(window.location.href);e.searchParams.set("categories",this.props.categories),window.history.pushState({},"categories",e)}},{key:"componentDidMount",value:function(){this.parseCategoriesQueryFromUrl(),window.addEventListener("popstate",this.parseCategoriesQueryFromUrl)}},{key:"componentDidUpdate",value:function(e){e.categories!==this.props.categories&&this.addCategoriesQueryToUrl()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.parseCategoriesQueryFromUrl)}},{key:"render",value:function(){var e=this.props.categories;return a.a.createElement(S,{getCategoryChangeHandler:this.getChangeHandler,categories:e})}}]),n}(r.Component),F={changeCategory:function(e){return{type:"filter/CHANGE_CATEGORIES",payload:e}},setCategoriesQueryFromUrl:function(e){return{type:"filter/SET_CATEGORIES_QUERY_FROM_URL",payload:e}}},U=Object(c.b)((function(e){return{categories:e.filter.categories}}),F)(T),L=n(26),M=n.n(L),H=g((function(e){var t=e.title,n=e.name,r=e.onChange,i=e.discount;return a.a.createElement(M.a,{title:t,name:n,value:i,onChange:r})})),A=Object(c.b)((function(e){return{discount:e.filter.discount}}),(function(e){return{changeHandler:function(t){return e(x("discount",t))}}}))((function(e){var t=e.changeHandler,n=e.discount;return a.a.createElement(H,{title:"\u0421\u043a\u0438\u0434\u043a\u0430",name:"discount",changeHandler:t,discount:n})})),z=n(31),D=f.b.button.attrs({type:"button"}).withConfig({displayName:"ResetFiltersstyled__ResetFilters",componentId:"t925eh-0"})(["width:100%;margin-top:0;margin-bottom:0;padding:8px;box-sizing:border-box;font-family:inherit;font-size:14px;line-height:14px;color:#323c48;background-color:white;border:1px solid #323c48;cursor:pointer;user-select:none;outline:none;transition:background-color 0.2s,color 0.2s,transform 0.2s;&:hover,&:focus{background-color:#323c48;color:white;transition:background-color 0.2s,color 0.2s;}&:active{transform:scale(0.98);transition:transform 0.2s;}"]),Q={resetFilters:function(){return{type:"filter/RESET_FILTERS"}}},G=Object(c.b)(null,Q)((function(e){var t=e.resetFilters,n=Object(z.a)(e,["resetFilters"]);return a.a.createElement(D,Object.assign({onClick:t},n))})),q=f.b.form.withConfig({displayName:"FiltersFormstyled__Form",componentId:"kdu5fe-0"})(["padding-top:104px;& input{outline:2px solid transparent;transition:outline-color 0.2s;}& input:hover,& input:focus{outline-color:#323c48;transition:outline-color 0.2s;}"]),B=f.b.fieldset.withConfig({displayName:"FiltersFormstyled__Field",componentId:"kdu5fe-1"})(["margin:0 0 23px;padding:0;border:none;& h3{margin-top:0;margin-bottom:0;}"]),V=f.b.legend.withConfig({displayName:"FiltersFormstyled__Title",componentId:"kdu5fe-2"})(["margin:0;padding:0 0 16px;font-family:'OpenSans',sans-serif;font-size:20px;line-height:28px;font-weight:600;"]),J=function(){return a.a.createElement(q,null,a.a.createElement(B,null,a.a.createElement(V,null,"\u0426\u0435\u043d\u0430"),a.a.createElement(P,null)),a.a.createElement(B,null,a.a.createElement(A,null)),a.a.createElement(B,null,a.a.createElement(V,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),a.a.createElement(U,null)),a.a.createElement(G,null,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"))},X=n(16),Y=n(27),W=n.n(Y),K=n(12),Z=f.b.div.withConfig({displayName:"ProductPricestyled__Price",componentId:"p5mav-0"})(["display:inline-block;vertical-align:baseline;margin-right:8px;font-weight:600;font-size:",";line-height:24px;"],(function(e){return e.small?"12px":"20px"})),$=f.b.span.withConfig({displayName:"ProductPricestyled__Unit",componentId:"p5mav-1"})(["font-weight:400;"]),ee=function(e){var t=e.price,n=e.isSubPrice;return a.a.createElement(Z,{small:n},Object(K.formatMoney)(t,0," "," "),a.a.createElement($,null,"\u20bd"))},te=n(11),ne=n(28),re=n.n(ne),ae=n(29),ie=n.n(ae);function oe(){var e=Object(te.a)(["\n  background-image: url(",");\n"]);return oe=function(){return e},e}function ce(){var e=Object(te.a)(["\n  background-image: url(",");\n"]);return ce=function(){return e},e}var le=Object(f.a)(ce(),ie.a),se=Object(f.a)(oe(),re.a),ue=f.b.ul.withConfig({displayName:"ProductListstyled__Container",componentId:"kl0y5u-0"})(["display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:32px;grid-row-gap:56px;min-height:715px;margin-top:0;margin-bottom:41px;padding-left:0;list-style:none;"]),pe=f.b.div.withConfig({displayName:"ProductListstyled__RatingStar",componentId:"kl0y5u-1"})(["display:inline-block;vertical-align:middle;width:14px;height:13px;margin-right:10px;background-repeat:no-repeat;",";"],(function(e){return e.filled?le:se})),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?a.a.createElement(ee,{price:e,isSubPrice:t}):""},me=function(e){var t=e.isFilled;return a.a.createElement(pe,{filled:t})},ge=function(e){var t=e.products;return a.a.createElement(ue,null,t.map((function(e){var t=e.id,n=e.isInStock,r=e.img,i=e.title,o=e.price,c=e.subPriceContent,l=e.maxRating,s=e.rating;return a.a.createElement(W.a,{key:t,"data-testid":"product-list-item",isInStock:n,img:r,title:i,price:de(o),subPriceContent:de(c,!0),maxRating:l,rating:s,ratingComponent:me})})))},fe=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getFilteredProducts",value:function(e){var t=e.products,n=e.min,r=e.max,a=e.discount,i=e.categories;return t.filter((function(e){return function(e,t,n){return""===n?e.price>=t:e.price>=t&&e.price<=n}(e,n,r)&&function(e,t){var n=e.discount;return 0===t||""===t||n===t}(e,a)&&function(e,t){var n=e.category;return 0===t.length||t.includes(n)}(e,i)}))}},{key:"componentDidMount",value:function(){this.props.getProducts(),this.props.setMinProductPrice(),this.props.setMaxProductPrice()}},{key:"render",value:function(){var e=Object(w.a)(this.props.products).sort((function(e,t){return e.price-t.price}));return a.a.createElement(ge,{products:this.getFilteredProducts({products:e,min:this.props.min,max:this.props.max,discount:this.props.discount,categories:this.props.categories})})}}]),n}(r.Component),he=Object(c.b)((function(e){var t=e.filter;return{products:t.products,setMinProductPrice:t.setMinProductPrice,setMaxProductPrice:t.setMaxProductPrice,min:t.min,max:t.max,discount:t.discount,categories:t.categories}}),(function(e){var t=Object(K.minBy)((function(e){return e.price}),X.a).price,n=Object(K.maxBy)((function(e){return e.price}),X.a).price;return{getProducts:function(){return e({type:"filter/GET_PRODUCTS",payload:X.a})},setMinProductPrice:function(){return e({type:"filter/SET_MIN_PRODUCT_PRICE",payload:t})},setMaxProductPrice:function(){return e({type:"filter/SET_MAX_PRODUCT_PRICE",payload:n})}}}))(fe),be=f.b.ul.withConfig({displayName:"Paginationstyled__List",componentId:"sc-1rzuqkq-0"})(["display:flex;justify-content:center;align-items:center;margin-top:0;margin-bottom:0;padding-left:0;list-style:none;"]),ye=f.b.li.withConfig({displayName:"Paginationstyled__ListItem",componentId:"sc-1rzuqkq-1"})(["display:flex;align-items:center;justify-content:center;&:first-child a{min-width:88px;margin-right:16px;}&:last-child a{min-width:88px;margin-left:16px;}"]),xe="router/SET_URL";function ve(){var e=Object(te.a)(["\n  background-color: #5695ed;\n  color: #ffffff;\n  transition: color 0.2s, border-color 0.2s, background-color 0.2s;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(te.a)(["\n  background-color: #ffffff;\n  color: #7e8fa4;\n"]);return Ee=function(){return e},e}var Ce=Object(f.a)(Ee()),Oe=Object(f.a)(ve()),_e=f.b.a.withConfig({displayName:"PaginationLinkstyled__Link",componentId:"sc-2hxwjb-0"})(["display:block;min-width:34px;margin-right:2px;padding:7px;box-sizing:border-box;font-size:14px;line-height:16px;text-decoration:none;text-align:center;transition:color 0.2s,border-color 0.2s,background-color 0.2s;border:1px solid #c5cfde;user-select:none;&:hover{color:#323c48;border-color:#323c48;transition:color 0.2s,border-color 0.2s;}",""],(function(e){return e.active?Oe:Ce})),Pe=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleLinkClick=function(t){t.preventDefault();var n=new URL(window.location.href);n.searchParams.set("pageNum",e.props.href),e.props.pushState(n)},e}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(_e,{href:this.props.href,onClick:this.handleLinkClick},this.props.children)}}]),n}(a.a.Component),we=Object(c.b)(null,(function(e){return{pushState:function(t){return e(function(e){return window.history.pushState({},"pageNum",e),{type:xe,payload:e}}(t))}}}))(Pe),je=function(){return a.a.createElement(be,null,a.a.createElement(ye,null,a.a.createElement(we,{active:!1},"\u043d\u0430\u0437\u0430\u0434")),a.a.createElement(ye,null,a.a.createElement(we,{active:!0,href:"1"},"1")),a.a.createElement(ye,null,a.a.createElement(we,{active:!1,href:"2"},"2")),a.a.createElement(ye,null,a.a.createElement(we,{active:!1},"...")),a.a.createElement(ye,null,a.a.createElement(we,{active:!1},"\u0432\u043f\u0435\u0440\u0435\u0434")))},ke=f.b.h1.withConfig({displayName:"AppTitlestyled__Title",componentId:"c1ht0n-0"})(["margin-top:0;margin-bottom:56px;font-weight:300;font-size:36px;line-height:48px;text-align:center;"]),Ie=function(){return a.a.createElement(ke,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432")},Re=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.pageNum;return console.log(e),e===this.props.path&&this.props.children}}]),n}(a.a.Component),Ne=Object(c.b)((function(e){return{pageNum:e.router.pageNum}}))(Re),Se=function(){return a.a.createElement("div",null,a.a.createElement(Ie,null),a.a.createElement(he,null),a.a.createElement(Ne,{path:"1"},a.a.createElement("p",null,"\u0442\u043e\u0432\u0430\u0440\u044b \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b")),a.a.createElement(Ne,{path:"2"},a.a.createElement("p",null,"\u0442\u043e\u0432\u0430\u0440\u044b \u0432\u0442\u043e\u0440\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b")),a.a.createElement(je,null))},Te=f.b.div.withConfig({displayName:"Appstyled__Container",componentId:"nxamco-0"})(["display:grid;grid-template-columns:256px 1fr;column-gap:48px;width:100%;max-width:1040px;margin:0 auto;padding-top:80px;padding-right:10px;padding-left:10px;padding-bottom:40px;"]),Fe=function(){return a.a.createElement(Te,null,a.a.createElement(J,null),a.a.createElement(Se,null))},Ue=n(30),Le=n(3),Me={products:[],min:"",minProductPrice:0,max:"",maxProductPrice:0,discount:0,categories:[]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/GET_PRODUCTS":return Object(Le.a)(Object(Le.a)({},e),{},{products:t.payload});case"filter/SET_MIN_PRODUCT_PRICE":return Object(Le.a)(Object(Le.a)({},e),{},{minProductPrice:t.payload});case"filter/SET_MAX_PRODUCT_PRICE":return Object(Le.a)(Object(Le.a)({},e),{},{maxProductPrice:t.payload});case"filter/CHANGE_CATEGORIES":return Object(Le.a)(Object(Le.a)({},e),{},{categories:t.payload});case y:var n=t.payload,r=n.fieldName,a=n.fieldValue;return"min"===r&&a>e.maxProductPrice||"discount"===r&&a>100?e:Object(Le.a)(Object(Le.a)({},e),{},{[r]:a});case"filter/RESET_FILTERS":var i=Me.min,o=Me.max,c=Me.discount,l=Me.categories;return Object(Le.a)(Object(Le.a)({},e),{},{min:i,max:o,discount:c,categories:l});case"filter/SET_CATEGORIES_QUERY_FROM_URL":var s=t.payload;return Object(Le.a)(Object(Le.a)({},e),{},{categories:s?s.split(","):[]});default:return e}},Ae={pageNum:""},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:var n=t.payload.searchParams.get("pageNum");return{pageNum:n};default:return e}},De=Object(Ue.a)({reducer:{filter:He,router:ze}}),Qe=document.getElementById("root");o.a.render(a.a.createElement(c.a,{store:De},a.a.createElement(Fe,null)),Qe)}},[[32,1,2]]]);
//# sourceMappingURL=main.3f89583c.chunk.js.map