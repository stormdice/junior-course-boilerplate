(this["webpackJsonpcsssr-school-course"]=this["webpackJsonpcsssr-school-course"]||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"a":[{"id":1,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product1.jpg","isInStock":true,"rating":4,"maxRating":5,"price":5000,"category":"clothes"},{"id":2,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product2.jpg","isInStock":false,"rating":4,"maxRating":5,"price":10000,"category":"books"},{"id":3,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product3.jpg","isInStock":true,"rating":4,"maxRating":5,"price":20000,"subPriceContent":15000,"discount":25,"category":"clothes"},{"id":4,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product4.jpg","isInStock":true,"rating":4,"maxRating":5,"price":30000,"subPriceContent":15000,"discount":50,"category":"books"},{"id":5,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u044f\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product5.jpg","isInStock":true,"rating":4,"maxRating":5,"price":25000,"category":"clothes"},{"id":6,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0435\u0441\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product6.jpg","isInStock":false,"rating":4,"maxRating":5,"price":40000,"subPriceContent":20000,"discount":50,"category":"books"}]}')},28:function(e,t,n){e.exports=n.p+"static/media/star-empty.d37f94e9.svg"},29:function(e,t,n){e.exports=n.p+"static/media/star-filled.63c63076.svg"},31:function(e,t,n){e.exports=n(51)},51:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(12),o=n.n(i),c=n(2),l=n(4),u=n(5),s=n(7),p=n(6),d=n(14),m=n.n(d),g=function(e){var t,n=function(t){Object(s.a)(r,t);var n=Object(p.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=n.call.apply(n,[this].concat(a))).handleChange=function(t){var n=t.target,r=0===m()(n.value)?"":m()(n.value);e.props.changeHandler(r)},e}return Object(u.a)(r,[{key:"render",value:function(){return a.a.createElement(e,Object.assign({},this.props,{onChange:this.handleChange}))}}]),r}(r.Component);return n.displayName="withInputValidation(".concat((t=e).displayName||t.name||"Component",")"),n},f=n(1),h=f.b.input.withConfig({displayName:"InputNumberstyled__Input",componentId:"a5tdy4-0"})(["width:100%;padding:5px 16px;box-sizing:border-box;font:inherit;font-size:14px;line-height:14px;border:1px solid hsl(213,17%,57%);&::placeholder{color:hsl(213,17%,57%);}"]),b=g((function(e){var t=e.name,n=e.placeholder,r=e.value,i=e.onChange;return a.a.createElement(h,{type:"text",name:t,placeholder:n,value:r,onChange:i,required:!0})})),y=function(e,t){return{type:"SET_INPUT_VALUE",payload:{fieldName:e,fieldValue:t}}},x=Object(c.b)((function(e){return{value:e.min,placeholder:e.minProductPrice}}),(function(e){return{changeHandler:function(t){return e(y("min",t))}}}))((function(e){var t=e.placeholder,n=e.value,r=e.changeHandler;return a.a.createElement(b,{name:"min",placeholder:t,value:n,changeHandler:r})})),E=Object(c.b)((function(e){return{value:e.max,placeholder:e.maxProductPrice}}),(function(e){return{changeHandler:function(t){return e(y("max",t))}}}))((function(e){var t=e.placeholder,n=e.value,r=e.changeHandler;return a.a.createElement(b,{name:"max",placeholder:t,value:n,changeHandler:r})})),v=f.b.div.withConfig({displayName:"PriceRangestyled__Container",componentId:"sc-150xbc0-0"})(["display:grid;grid-template-columns:1fr 1fr;column-gap:16px;"]),C=f.b.label.withConfig({displayName:"PriceRangestyled__InputContainer",componentId:"sc-150xbc0-1"})(["display:grid;grid-template-columns:auto 1fr;column-gap:12px;align-items:center;"]),_=f.b.span.withConfig({displayName:"PriceRangestyled__Label",componentId:"sc-150xbc0-2"})(["cursor:pointer;"]),O=function(){return a.a.createElement(v,null,a.a.createElement(C,null,a.a.createElement(_,null,"\u043e\u0442"),a.a.createElement(x,null)),a.a.createElement(C,null,a.a.createElement(_,null,"\u0434\u043e"),a.a.createElement(E,null)))},P=n(15),w=f.b.input.withConfig({displayName:"CategoryCheckboxstyled__Input",componentId:"vxolq-0"})(["position:absolute;width:1px;height:1px;border:0;margin:-1px;padding:0;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;&:hover + label{color:#323c48;border-color:#323c48;transition:border-color 0.2s,color 0.2s;}&:checked + label{background-color:#323c48;border-color:#323c48;color:#ffffff;}"]),j=f.b.label.withConfig({displayName:"CategoryCheckboxstyled__Label",componentId:"vxolq-1"})(["display:inline-block;vertical-align:top;box-sizing:border-box;padding:7px 15px;font-size:14px;line-height:14px;color:#7e8fa4;border:1px solid #7e8fa4;border-radius:15px;cursor:pointer;user-select:none;transition:border-color 0.2s,color 0.2s;"]),k=function(e){var t=e.name,n=e.title,r=e.onChange,i=e.categories.some((function(e){return e===t}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{type:"checkbox",id:t,name:t,onChange:function(e){var t=e.target;r(t.checked)},checked:i}),a.a.createElement(j,{htmlFor:t},n))},I=f.b.ul.withConfig({displayName:"CategoryListstyled__List",componentId:"ycvi8r-0"})(["display:flex;flex-wrap:wrap;align-items:flex-start;margin-top:0;margin-bottom:0;padding-left:0;list-style:none;"]),N=f.b.li.withConfig({displayName:"CategoryListstyled__ListItem",componentId:"ycvi8r-1"})(["margin-right:16px;margin-bottom:16px;"]),S=function(e){var t=e.getCategoryChangeHandler,n=e.categories;return a.a.createElement(I,null,a.a.createElement(N,null,a.a.createElement(k,{name:"books",title:"Books",onChange:t("books"),categories:n})),a.a.createElement(N,null,a.a.createElement(k,{name:"clothes",title:"Clothes",onChange:t("clothes"),categories:n})))},R=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).parseCategoriesQueryFromUrl=function(){var t=new URL(window.location.href).searchParams.get("categories");e.setState({categories:t?t.split(","):[]})},e.getChangeHandler=function(t){return function(n){var r=new Set(e.props.categories);r[n?"add":"delete"](t),e.props.changeCategory(Object(P.a)(r))}},e}return Object(u.a)(n,[{key:"addCategoriesQueryToUrl",value:function(){var e=new URL(window.location.href);e.searchParams.set("categories",this.props.categories),window.history.pushState(null,null,e)}},{key:"componentDidMount",value:function(){this.parseCategoriesQueryFromUrl(),window.addEventListener("popstate",this.parseCategoriesQueryFromUrl)}},{key:"componentDidUpdate",value:function(e,t){e.categories!==this.props.categories&&this.addCategoriesQueryToUrl()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.parseCategoriesQueryFromUrl)}},{key:"render",value:function(){var e=this.props.categories;return a.a.createElement(S,{getCategoryChangeHandler:this.getChangeHandler,categories:e})}}]),n}(r.Component),T=Object(c.b)((function(e){return{categories:e.categories}}),(function(e){return{changeCategory:function(t){return e(function(e){return{type:"CHANGE_CATEGORIES",payload:e}}(t))}}}))(R),U=n(26),L=n.n(U),F=g((function(e){var t=e.title,n=e.name,r=e.onChange,i=e.discount;return a.a.createElement(L.a,{title:t,name:n,value:i,onChange:r})})),H=Object(c.b)((function(e){return{discount:e.discount}}),(function(e){return{changeHandler:function(t){return e(y("discount",t))}}}))((function(e){var t=e.changeHandler,n=e.discount;return a.a.createElement(F,{title:"\u0421\u043a\u0438\u0434\u043a\u0430",name:"discount",changeHandler:t,discount:n})})),M=n(30),A=f.b.button.attrs({type:"button"}).withConfig({displayName:"ResetFiltersstyled__ResetFilters",componentId:"t925eh-0"})(["width:100%;margin-top:0;margin-bottom:0;padding:8px;box-sizing:border-box;font-family:inherit;font-size:14px;line-height:14px;color:#323c48;background-color:white;border:1px solid #323c48;cursor:pointer;user-select:none;outline:none;transition:background-color 0.2s,color 0.2s,transform 0.2s;&:hover,&:focus{background-color:#323c48;color:white;transition:background-color 0.2s,color 0.2s;}&:active{transform:scale(0.98);transition:transform 0.2s;}"]),D={resetFilters:function(){return{type:"RESET_FILTERS"}}},z=Object(c.b)(null,D)((function(e){var t=e.resetFilters,n=Object(M.a)(e,["resetFilters"]);return a.a.createElement(A,Object.assign({onClick:t},n))})),q=f.b.form.withConfig({displayName:"FiltersFormstyled__Form",componentId:"kdu5fe-0"})(["padding-top:104px;& input{outline:2px solid transparent;transition:outline-color 0.2s;}& input:hover,& input:focus{outline-color:#323c48;transition:outline-color 0.2s;}"]),V=f.b.fieldset.withConfig({displayName:"FiltersFormstyled__Field",componentId:"kdu5fe-1"})(["margin:0 0 23px;padding:0;border:none;& h3{margin-top:0;margin-bottom:0;}"]),G=f.b.legend.withConfig({displayName:"FiltersFormstyled__Title",componentId:"kdu5fe-2"})(["margin:0;padding:0 0 16px;font-family:'OpenSans',sans-serif;font-size:20px;line-height:28px;font-weight:600;"]),Q=function(){return a.a.createElement(q,null,a.a.createElement(V,null,a.a.createElement(G,null,"\u0426\u0435\u043d\u0430"),a.a.createElement(O,null)),a.a.createElement(V,null,a.a.createElement(H,null)),a.a.createElement(V,null,a.a.createElement(G,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),a.a.createElement(T,null)),a.a.createElement(z,null,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"))},X=n(16),B=n(27),J=n.n(B),W=n(11),K=f.b.div.withConfig({displayName:"ProductPricestyled__Price",componentId:"p5mav-0"})(["display:inline-block;vertical-align:baseline;margin-right:8px;font-weight:600;font-size:",";line-height:24px;"],(function(e){return e.small?"12px":"20px"})),Y=f.b.span.withConfig({displayName:"ProductPricestyled__Unit",componentId:"p5mav-1"})(["font-weight:400;"]),Z=function(e){var t=e.price,n=e.isSubPrice;return a.a.createElement(K,{small:n},Object(W.formatMoney)(t,0," "," "),a.a.createElement(Y,null,"\u20bd"))},$=n(10),ee=n(28),te=n.n(ee),ne=n(29),re=n.n(ne);function ae(){var e=Object($.a)(["\n  background-image: url(",");\n"]);return ae=function(){return e},e}function ie(){var e=Object($.a)(["\n  background-image: url(",");\n"]);return ie=function(){return e},e}var oe=Object(f.a)(ie(),re.a),ce=Object(f.a)(ae(),te.a),le=f.b.ul.withConfig({displayName:"ProductListstyled__Container",componentId:"kl0y5u-0"})(["display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:32px;grid-row-gap:56px;min-height:715px;margin-top:0;margin-bottom:41px;padding-left:0;list-style:none;"]),ue=f.b.div.withConfig({displayName:"ProductListstyled__RatingStar",componentId:"kl0y5u-1"})(["display:inline-block;vertical-align:middle;width:14px;height:13px;margin-right:10px;background-repeat:no-repeat;",";"],(function(e){return e.filled?oe:ce})),se=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?a.a.createElement(Z,{price:e,isSubPrice:t}):""},pe=function(e){var t=e.isFilled;return a.a.createElement(ue,{filled:t})},de=function(e){var t=e.products;return a.a.createElement(le,null,t.map((function(e){var t=e.id,n=e.isInStock,r=e.img,i=e.title,o=e.price,c=e.subPriceContent,l=e.maxRating,u=e.rating;return a.a.createElement(J.a,{key:t,"data-testid":"product-list-item",isInStock:n,img:r,title:i,price:se(o),subPriceContent:se(c,!0),maxRating:l,rating:u,ratingComponent:pe})})))},me=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getFilteredProducts",value:function(e){var t=e.products,n=e.min,r=e.max,a=e.discount,i=e.categories;return t.filter((function(e){return function(e,t,n){return""===n?e.price>=t:e.price>=t&&e.price<=n}(e,n,r)&&function(e,t){var n=e.discount;return 0===t||""===t||n===t}(e,a)&&function(e,t){var n=e.category;return 0===t.length||t.includes(n)}(e,i)}))}},{key:"componentDidMount",value:function(){this.props.getProducts(),this.props.setMinProductPrice(),this.props.setMaxProductPrice()}},{key:"render",value:function(){var e=Object(P.a)(this.props.products).sort((function(e,t){return e.price-t.price}));return a.a.createElement(de,{products:this.getFilteredProducts({products:e,min:this.props.min,max:this.props.max,discount:this.props.discount,categories:this.props.categories})})}}]),n}(r.Component),ge=Object(c.b)((function(e){return{products:e.products,setMinProductPrice:e.setMinProductPrice,setMaxProductPrice:e.setMaxProductPrice,min:e.min,max:e.max,discount:e.discount,categories:e.categories}}),(function(e){var t=Object(W.minBy)((function(e){return e.price}),X.a).price,n=Object(W.maxBy)((function(e){return e.price}),X.a).price;return{getProducts:function(){return e({type:"GET_PRODUCTS",payload:X.a})},setMinProductPrice:function(){return e({type:"SET_MIN_PRODUCT_PRICE",payload:t})},setMaxProductPrice:function(){return e({type:"SET_MAX_PRODUCT_PRICE",payload:n})}}}))(me);function fe(){var e=Object($.a)(["\n  background-color: #5695ed;\n  color: #ffffff;\n  transition: color 0.2s, border-color 0.2s, background-color 0.2s;\n"]);return fe=function(){return e},e}function he(){var e=Object($.a)(["\n  background-color: #ffffff;\n  color: #7e8fa4;\n"]);return he=function(){return e},e}var be=Object(f.a)(he()),ye=Object(f.a)(fe()),xe=f.b.ul.withConfig({displayName:"Paginationstyled__List",componentId:"sc-1rzuqkq-0"})(["display:flex;justify-content:center;align-items:center;margin-top:0;margin-bottom:0;padding-left:0;list-style:none;"]),Ee=f.b.li.withConfig({displayName:"Paginationstyled__ListItem",componentId:"sc-1rzuqkq-1"})(["display:flex;align-items:center;justify-content:center;&:first-child a{min-width:88px;margin-right:16px;}&:last-child a{min-width:88px;margin-left:16px;}"]),ve=f.b.a.withConfig({displayName:"Paginationstyled__Link",componentId:"sc-1rzuqkq-2"})(["display:block;min-width:34px;margin-right:2px;padding:7px;box-sizing:border-box;font-size:14px;line-height:16px;text-decoration:none;text-align:center;transition:color 0.2s,border-color 0.2s,background-color 0.2s;border:1px solid #c5cfde;user-select:none;&:hover{color:#323c48;border-color:#323c48;transition:color 0.2s,border-color 0.2s;}",""],(function(e){return e.active?ye:be})),Ce=function(e){e.preventDefault(),"A"===e.target.tagName&&window.history.pushState({},"page 2","?pageNum=2")},_e=function(){return a.a.createElement(xe,{onClick:Ce},a.a.createElement(Ee,null,a.a.createElement(ve,{active:!1,href:"/?prevPage"},"\u043d\u0430\u0437\u0430\u0434")),a.a.createElement(Ee,null,a.a.createElement(ve,{active:!0,href:"/?pageNum=1"},"1")),a.a.createElement(Ee,null,a.a.createElement(ve,{active:!1,href:"/?pageNum=2"},"2")),a.a.createElement(Ee,null,a.a.createElement(ve,{active:!1},"...")),a.a.createElement(Ee,null,a.a.createElement(ve,{active:!1,href:"/?nextPage"},"\u0432\u043f\u0435\u0440\u0435\u0434")))},Oe=f.b.h1.withConfig({displayName:"AppTitlestyled__Title",componentId:"c1ht0n-0"})(["margin-top:0;margin-bottom:56px;font-weight:300;font-size:36px;line-height:48px;text-align:center;"]),Pe=function(){return a.a.createElement(Oe,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432")},we=function(){return a.a.createElement("div",null,a.a.createElement(Pe,null),a.a.createElement(ge,null),a.a.createElement(_e,null))},je=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.routing.path;return console.log(e),e===this.props.path&&this.props.children}}]),n}(a.a.Component),ke=Object(c.b)((function(e){return{routing:e.routing}}))(je),Ie=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleLinkClick=function(t){t.preventDefault(),e.props.pushState(e.props.href)},e}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("a",{href:this.props.href,onClick:this.handleLinkClick},this.props.children)}}]),n}(a.a.Component),Ne=Object(c.b)(null,(function(e){return{pushState:function(t){return e(function(e){return window.history.pushState({},"page + ".concat(e),"".concat(e)),{type:"SET_URL",payload:e}}(t))}}}))(Ie),Se=f.b.div.withConfig({displayName:"Appstyled__Container",componentId:"nxamco-0"})(["display:grid;grid-template-columns:256px 1fr;column-gap:48px;width:100%;max-width:1040px;margin:0 auto;padding-top:80px;padding-right:10px;padding-left:10px;padding-bottom:40px;"]),Re=function(){return a.a.createElement(Se,null,a.a.createElement(Q,null),a.a.createElement(we,null),a.a.createElement(ke,{path:"/?pageNum=2"},a.a.createElement("p",null,"\u043c\u044b \u043d\u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435")),a.a.createElement(ke,{path:"/"},a.a.createElement("p",null,"\u043c\u044b \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439")),a.a.createElement("div",null,a.a.createElement(Ne,{href:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),a.a.createElement(Ne,{href:"/?pageNum=2"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 2")))},Te=n(13),Ue=n(3),Le={products:[],min:"",minProductPrice:0,max:"",maxProductPrice:0,discount:0,categories:[],routing:{path:"/"}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(Ue.a)(Object(Ue.a)({},e),{},{products:t.payload});case"SET_MIN_PRODUCT_PRICE":return Object(Ue.a)(Object(Ue.a)({},e),{},{minProductPrice:t.payload});case"SET_MAX_PRODUCT_PRICE":return Object(Ue.a)(Object(Ue.a)({},e),{},{maxProductPrice:t.payload});case"CHANGE_CATEGORIES":return Object(Ue.a)(Object(Ue.a)({},e),{},{categories:t.payload});case"SET_MIN_PRICE_INPUT_VALUE":return Object(Ue.a)(Object(Ue.a)({},e),{},{min:t.payload});case"SET_INPUT_VALUE":var n=t.payload,r=n.fieldName,a=n.fieldValue;return"min"===r&&a>e.maxProductPrice||"discount"===r&&a>100?e:Object(Ue.a)(Object(Ue.a)({},e),{},{[r]:a});case"RESET_FILTERS":var i=Le.min,o=Le.max,c=Le.discount,l=Le.categories;return Object(Ue.a)(Object(Ue.a)({},e),{},{min:i,max:o,discount:c,categories:l});case"SET_URL":return Object(Ue.a)(Object(Ue.a)({},e),{},{routing:{path:t.payload}});default:return e}},He=Object(Te.b)(Fe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Me=document.getElementById("root");o.a.render(a.a.createElement(c.a,{store:He},a.a.createElement(Re,null)),Me)}},[[31,1,2]]]);
//# sourceMappingURL=main.8dc928d5.chunk.js.map