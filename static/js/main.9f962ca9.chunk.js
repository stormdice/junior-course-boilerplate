(this["webpackJsonpcsssr-school-course"]=this["webpackJsonpcsssr-school-course"]||[]).push([[0],[,,,,function(e,t,n){e.exports={filter:"FiltersForm_filter__3_BtC",fieldset:"FiltersForm_fieldset__hBPGJ",title:"FiltersForm_title__1vhst"}},,,,,function(e,t,n){e.exports={container:"PriceRange_container__3UoQJ",field:"PriceRange_field__3pUfM",label:"PriceRange_label__17WTG"}},,function(e,t,n){e.exports={pagination:"Pagination_pagination__OC-M1",item:"Pagination_item__3ZJ_K",link:"Pagination_link__3uDZR",prev:"Pagination_prev__1UqIA",next:"Pagination_next__1-gwL",active:"Pagination_active__2HDgo"}},,,,function(e,t,n){e.exports={categories:"CategoryList_categories__2rnyI",category:"CategoryList_category__3pyoU"}},function(e){e.exports=JSON.parse('{"a":[{"id":1,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product1.jpg","isInStock":true,"rating":4,"maxRating":5,"price":5000,"category":"clothes"},{"id":2,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product2.jpg","isInStock":false,"rating":4,"maxRating":5,"price":10000,"category":"books"},{"id":3,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product3.jpg","isInStock":true,"rating":4,"maxRating":5,"price":20000,"subPriceContent":15000,"discount":25,"category":"clothes"},{"id":4,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product4.jpg","isInStock":true,"rating":4,"maxRating":5,"price":30000,"subPriceContent":15000,"discount":50,"category":"books"},{"id":5,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u044f\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product5.jpg","isInStock":true,"rating":4,"maxRating":5,"price":25000,"category":"clothes"},{"id":6,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0435\u0441\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product6.jpg","isInStock":false,"rating":4,"maxRating":5,"price":40000,"subPriceContent":20000,"discount":50,"category":"books"}]}')},function(e,t,n){e.exports={price:"ProductPrice_price__2kDg9",unit:"ProductPrice_unit__2uLmR",small:"ProductPrice_small__-ieXG"}},function(e,t,n){e.exports={products:"ProductsList_products__1_lC7",star:"ProductsList_star__3F-kB",fill:"ProductsList_fill__3ZgbJ"}},,,,,function(e,t,n){e.exports={input:"CategoryCheckbox_input__1gWP9",label:"CategoryCheckbox_label__OSvUV"}},,,function(e,t,n){e.exports={input:"InputPrice_input__19jGe"}},,function(e,t,n){e.exports={reset:"ResetFilters_reset__XpRua"}},,function(e,t,n){e.exports={title:"Title_title__1e_J_"}},function(e,t,n){e.exports={products:"Products_products__3V_y4"}},function(e,t,n){e.exports={container:"App_container__RHEYp"}},,function(e,t,n){e.exports=n(54)},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),o=n(2),u=n(5),s=n(6),l=n(8),m=n(7),d=n(14),p=n.n(d),g=function(e){var t,n=function(t){Object(l.a)(a,t);var n=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).handleChange=function(t){var n=t.target,a=0===p()(n.value)?"":p()(n.value);e.props.handleInputChange(a)},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.props,{handleInputChange:this.handleChange}))}}]),a}(a.Component);return n.displayName="withInputValidation(".concat((t=e).displayName||t.name||"Component",")"),n},_=n(26),f=n.n(_),h=function(e){var t=e.name,n=e.placeholder,a=e.value,i=e.handleInputChange;return r.a.createElement("input",{type:"text",className:f.a.input,name:t,placeholder:n,value:a,onChange:i,required:!0})},P=n(27),E=n.n(P),C=function(e){var t=e.title,n=e.name,a=e.handleInputChange,i=e.discount;return r.a.createElement(E.a,{title:t,name:n,value:i,onChange:a})},b=g(h),y=g(h),v=g(C),x=n(9),O=n.n(x),I=function(e){var t=e.handleInputChange,n=e.min,a=e.max,i=e.minProductPrice,c=e.maxProductPrice;return r.a.createElement("div",{className:O.a.container},r.a.createElement("label",{className:O.a.field},r.a.createElement("span",{className:O.a.label},"\u043e\u0442"),r.a.createElement(b,{name:"min",placeholder:i,value:n,handleInputChange:t("min")})),r.a.createElement("label",{className:O.a.field},r.a.createElement("span",{className:O.a.label},"\u0434\u043e"),r.a.createElement(y,{name:"max",placeholder:c,value:a,handleInputChange:t("max")})))},j=Object(o.b)((function(e){return{min:e.min,max:e.max,minProductPrice:e.minProductPrice,maxProductPrice:e.maxProductPrice}}))((function(e){var t=e.handleInputChange,n=e.min,a=e.max,i=e.minProductPrice,c=e.maxProductPrice;return r.a.createElement(I,{handleInputChange:t,min:n,max:a,minProductPrice:i,maxProductPrice:c})})),N=n(33),k=n(23),R=n.n(k),S=function(e){var t=e.name,n=e.title,a=e.handleCategoryChange,i=e.categories.some((function(e){return e===t}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:R.a.input,type:"checkbox",id:t,name:t,onChange:function(e){var t=e.target;a(t.checked)},checked:i}),r.a.createElement("label",{className:R.a.label,htmlFor:t},n))},T=n(15),U=n.n(T),w=function(e){var t=e.handleCategoryChange,n=e.categories;return r.a.createElement("ul",{className:U.a.categories},r.a.createElement("li",{className:U.a.category},r.a.createElement(S,{name:"books",title:"Books",handleCategoryChange:t("books"),categories:n})),r.a.createElement("li",{className:U.a.category},r.a.createElement(S,{name:"clothes",title:"Clothes",handleCategoryChange:t("clothes"),categories:n})))},F=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).parseCategoriesQueryFromUrl=function(){var t=new URL(window.location.href).searchParams.get("categories");e.setState({categories:t?t.split(","):[]})},e.getChangeHandlerForCategories=function(t){return function(n){var a=new Set(e.props.categories);a[n?"add":"delete"](t),e.props.changeCategory(Object(N.a)(a))}},e}return Object(s.a)(n,[{key:"addCategoriesQueryToUrl",value:function(){var e=new URL(window.location.href);e.searchParams.set("categories",this.props.categories),window.history.pushState(null,null,e)}},{key:"componentDidMount",value:function(){this.parseCategoriesQueryFromUrl(),window.addEventListener("popstate",this.parseCategoriesQueryFromUrl)}},{key:"componentDidUpdate",value:function(e,t){e.categories!==this.props.categories&&this.addCategoriesQueryToUrl()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("popstate",this.parseCategoriesQueryFromUrl)}},{key:"render",value:function(){var e=this.props.categories;return r.a.createElement(w,{handleCategoryChange:this.getChangeHandlerForCategories,categories:e})}}]),n}(a.Component),L=Object(o.b)((function(e){return{categories:e.categories}}),(function(e){return{changeCategory:function(t){return e(function(e){return{type:"CHANGE_CATEGORIES",payload:e}}(t))}}}))(F),M=Object(o.b)((function(e){return{discount:e.discount}}))((function(e){var t=e.handleInputChange,n=e.discount;return r.a.createElement(v,{title:"\u0421\u043a\u0438\u0434\u043a\u0430",name:"discount",handleInputChange:t,discount:n})})),D=n(28),A=n.n(D),V=function(e){var t=e.handleClick;return r.a.createElement("button",{className:A.a.reset,type:"button",onClick:t},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b")},G=Object(o.b)((function(e){return{min:e.min,max:e.max,discount:e.discount,categories:e.categories}}),(function(e){return{resetFilters:function(){return e({type:"RESET_FILTERS"})}}}))((function(e){var t=e.resetFilters;return r.a.createElement(V,{handleClick:function(){return t()}})})),J=n(4),X=n.n(J),B=function(e){var t=e.handleInputChange;return r.a.createElement("form",{className:X.a.filter},r.a.createElement("fieldset",{className:X.a.fieldset},r.a.createElement("legend",{className:X.a.title},"\u0426\u0435\u043d\u0430"),r.a.createElement(j,{handleInputChange:t})),r.a.createElement("fieldset",{className:X.a.fieldset},r.a.createElement(M,{handleInputChange:t("discount")})),r.a.createElement("fieldset",{className:X.a.fieldset},r.a.createElement("legend",{className:X.a.title},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(L,null)),r.a.createElement(G,null))},Q=Object(o.b)((function(e){return{maxProductPrice:e.maxProductPrice}}),(function(e){return{setInputValue:function(t,n){return e(function(e,t){return{type:"SET_INPUT_VALUE",payload:{fieldName:e,fieldValue:t}}}(t,n))}}}))((function(e){var t,n=e.maxProductPrice,a=e.setInputValue;return r.a.createElement(B,{handleInputChange:(t=n,function(e){return function(n){if(!("min"===e&&n>t))return"discount"===e&&n>100?n:void a(e,n)}})})})),H=n(16),W=n(3),Z=n.n(W),q=n(29),K=n.n(q),Y=n(10),z=n(17),$=n.n(z),ee=function(e){var t=e.price,n=e.isSubPrice;return r.a.createElement("div",{className:Z()([$.a.price],{[$.a.small]:n})},Object(Y.formatMoney)(t,0," "," ")," ",r.a.createElement("span",{className:$.a.unit},"\u20bd"))},te=n(18),ne=n.n(te),ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?r.a.createElement(ee,{price:e,isSubPrice:t}):""},re=function(e){var t=e.isFilled;return r.a.createElement("div",{className:Z()(ne.a.star,t&&ne.a.fill)})},ie=function(e){var t=e.products.map((function(e){var t=e.id,n=e.isInStock,a=e.img,i=e.title,c=e.price,o=e.subPriceContent,u=e.maxRating,s=e.rating;return r.a.createElement("li",{key:t,"data-testid":"product-list-item"},r.a.createElement(K.a,{isInStock:n,img:a,title:i,price:ae(c),subPriceContent:ae(o,!0),maxRating:u,rating:s,ratingComponent:re}))}));return r.a.createElement("ul",{className:ne.a.products},t)},ce=n(11),oe=n.n(ce),ue=[{title:"\u041d\u0430\u0437\u0430\u0434",additionalClass:"prev"},{title:"1"},{title:"2"},{title:"3"},{title:"4"},{title:"5"},{title:"..."},{title:"13"},{title:"\u0412\u043f\u0435\u0440\u0435\u0434",additionalClass:"next"}],se=function(){return r.a.createElement("ul",{className:oe.a.pagination},ue.map((function(e){var t=e.title,n=e.additionalClass,a=void 0!==n?oe.a[n]:"";return r.a.createElement("li",{className:oe.a.item,key:t},r.a.createElement("a",{className:Z()(oe.a.link,a),href:"https://github.com/stormdice"},t))})))},le=n(30),me=n.n(le),de=function(){return r.a.createElement("h1",{className:me.a.title},"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432")},pe=n(31),ge=n.n(pe),_e=function(e){var t=e.products;return r.a.createElement("div",{className:ge.a.products},r.a.createElement(de,null),r.a.createElement(ie,{products:t}),r.a.createElement(se,null))},fe=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getFilteredProducts",value:function(e){var t=e.products,n=e.min,a=e.max,r=e.discount,i=e.categories;return t.filter((function(e){return function(e,t,n){return""===n?e:e.price>=t&&e.price<=n}(e,n,a)&&function(e,t){var n=e.discount;return 0===t||n===t}(e,r)&&function(e,t){var n=e.category;return 0===t.length||t.includes(n)}(e,i)}))}},{key:"componentDidMount",value:function(){this.props.getProducts(),this.props.setMinProductPrice(),this.props.setMaxProductPrice()}},{key:"render",value:function(){var e=this.props.products.sort((function(e,t){return e.price-t.price}));return r.a.createElement(_e,{products:this.getFilteredProducts({products:e,min:this.props.min,max:this.props.max,discount:this.props.discount,categories:this.props.categories})})}}]),n}(a.Component),he=Object(o.b)((function(e){return{products:e.products,setMinProductPrice:e.setMinProductPrice,setMaxProductPrice:e.setMaxProductPrice,min:e.min,max:e.max,discount:e.discount,categories:e.categories}}),(function(e){var t=Object(Y.minBy)((function(e){return e.price}),H.a).price,n=Object(Y.maxBy)((function(e){return e.price}),H.a).price;return{getProducts:function(){return e({type:"GET_PRODUCTS",payload:H.a})},setMinProductPrice:function(){return e({type:"SET_MIN_PRODUCT_PRICE",payload:t})},setMaxProductPrice:function(){return e({type:"SET_MAX_PRODUCT_PRICE",payload:n})}}}))(fe),Pe=n(32),Ee=n.n(Pe),Ce=function(){return r.a.createElement("div",{className:Ee.a.container},r.a.createElement(Q,null),r.a.createElement(he,null))},be=n(13),ye=n(1),ve={products:[],min:"",minProductPrice:0,max:"",maxProductPrice:0,discount:0,categories:[]},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return Object(ye.a)(Object(ye.a)({},e),{},{products:t.payload});case"SET_MIN_PRODUCT_PRICE":return Object(ye.a)(Object(ye.a)({},e),{},{minProductPrice:t.payload});case"SET_MAX_PRODUCT_PRICE":return Object(ye.a)(Object(ye.a)({},e),{},{maxProductPrice:t.payload});case"CHANGE_CATEGORIES":return Object(ye.a)(Object(ye.a)({},e),{},{categories:t.payload});case"SET_MIN_PRICE_INPUT_VALUE":return Object(ye.a)(Object(ye.a)({},e),{},{min:t.payload});case"SET_INPUT_VALUE":return Object(ye.a)(Object(ye.a)({},e),{},{[t.payload.fieldName]:t.payload.fieldValue});case"RESET_FILTERS":return Object(ye.a)(Object(ye.a)({},e),{},{min:"",max:"",discount:0,categories:[]});default:return e}},Oe=Object(be.b)(xe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ie=document.getElementById("root");c.a.render(r.a.createElement(o.a,{store:Oe},r.a.createElement(Ce,null)),Ie)}],[[34,1,2]]]);
//# sourceMappingURL=main.9f962ca9.chunk.js.map