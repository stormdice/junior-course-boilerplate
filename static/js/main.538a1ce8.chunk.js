(this['webpackJsonpcsssr-school-course']=this['webpackJsonpcsssr-school-course']||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={filter:'FiltersForm_filter__3_BtC',fieldset:'FiltersForm_fieldset__hBPGJ',title:'FiltersForm_title__1vhst'}},function(e,t,a){e.exports={container:'PriceRange_container__3UoQJ',field:'PriceRange_field__3pUfM',label:'PriceRange_label__17WTG'}},function(e,t,a){e.exports={pagination:'Pagination_pagination__OC-M1',item:'Pagination_item__3ZJ_K',link:'Pagination_link__3uDZR',prev:'Pagination_prev__1UqIA',next:'Pagination_next__1-gwL',active:'Pagination_active__2HDgo'}},,,function(e){e.exports=JSON.parse('{"a":[{"id":1,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product1.jpg","isInStock":true,"rating":4,"maxRating":5,"price":5000,"category":"clothes"},{"id":2,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product2.jpg","isInStock":false,"rating":4,"maxRating":5,"price":10000,"category":"books"},{"id":3,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product3.jpg","isInStock":true,"rating":4,"maxRating":5,"price":20000,"subPriceContent":15000,"discount":25,"category":"clothes"},{"id":4,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product4.jpg","isInStock":true,"rating":4,"maxRating":5,"price":30000,"subPriceContent":15000,"discount":50,"category":"books"},{"id":5,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u044f\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f clothes","img":"./img/product5.jpg","isInStock":true,"rating":4,"maxRating":5,"price":25000,"category":"clothes"},{"id":6,"title":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0448\u0435\u0441\u0442\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430. \u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f books","img":"./img/product6.jpg","isInStock":false,"rating":4,"maxRating":5,"price":40000,"subPriceContent":20000,"discount":50,"category":"books"}]}')},function(e,t,a){e.exports={categories:'CategoryList_categories__2rnyI',category:'CategoryList_category__3pyoU'}},function(e,t,a){e.exports={price:'ProductPrice_price__2kDg9',unit:'ProductPrice_unit__2uLmR',small:'ProductPrice_small__-ieXG'}},function(e,t,a){e.exports={products:'ProductsList_products__1_lC7',star:'ProductsList_star__3F-kB',fill:'ProductsList_fill__3ZgbJ'}},function(e,t,a){e.exports={input:'CategoryCheckbox_input__1gWP9',label:'CategoryCheckbox_label__OSvUV'}},,,,function(e,t,a){e.exports={input:'InputPrice_input__19jGe'}},,function(e,t,a){e.exports={reset:'ResetFilters_reset__XpRua'}},,function(e,t,a){e.exports={title:'Title_title__1e_J_'}},function(e,t,a){e.exports={products:'Products_products__3V_y4'}},function(e,t,a){e.exports={container:'App_container__RHEYp'}},,function(e,t,a){e.exports=a(46)},,,,,,,,,,,,,,,,,,function(e,t,a){a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),o=a(27),l=a(1),s=a(2),u=a(4),m=a(3),d=a(12),p=a(19),g=a.n(p),h=a(6),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:'shouldComponentUpdate',value:function(e,t){return h.logger.call(this,this.constructor.name,e,t),g()(this,e,t)}}]),a}(n.Component),_=a(11),v=a.n(_),C=function(e){var t,a=function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).handleChange=function(t){var a=t.target,n=0===v()(a.value)?'':v()(a.value);e.props.handleInputChange(n)},e}return Object(s.a)(n,[{key:'render',value:function(){return r.a.createElement(e,Object.assign({},this.props,{handleInputChange:this.handleChange}))}}]),n}(n.Component);return a.displayName='withInputValidation('.concat((t=e).displayName||t.name||'Component',')'),a},y=a(20),b=a.n(y),E=function(e){var t=e.name,a=e.placeholder,n=e.value,i=e.handleInputChange;return r.a.createElement('input',{type:'text',className:b.a.input,name:t,placeholder:a,value:n,onChange:i,required:!0})},P=a(21),x=a.n(P),k=r.a.createContext(),j=k.Provider,N=k.Consumer,F=function(e){var t=e.title,a=e.name,n=e.handleInputChange;return r.a.createElement(N,null,(function(e){var i=e.discount;return r.a.createElement(x.a,{title:t,name:a,value:i,onChange:n})}))},O=C(E),R=C(E),I=C(F),w=a(8),S=a.n(w),U=function(e){var t=e.handleInputChange;return r.a.createElement(N,null,(function(e){var a=e.min,n=e.max,i=e.minProductPrice,c=e.maxProductPrice;return r.a.createElement(r.a.Fragment,null,r.a.createElement('div',{className:S.a.container},r.a.createElement('label',{className:S.a.field},r.a.createElement('span',{className:S.a.label},'\u043e\u0442'),r.a.createElement(O,{name:'min',placeholder:i,value:a,handleInputChange:t('min')})),r.a.createElement('label',{className:S.a.field},r.a.createElement('span',{className:S.a.label},'\u0434\u043e'),r.a.createElement(R,{name:'max',placeholder:c,value:n,handleInputChange:t('max')}))))}))},L=a(16),J=a.n(L),B=function(e){var t=e.name,a=e.title,n=e.handleCategoryChange,i=e.categories.some((function(e){return e===t}));return r.a.createElement(r.a.Fragment,null,r.a.createElement('input',{className:J.a.input,type:'checkbox',id:t,name:t,onChange:function(e){var t=e.target;n(t.checked)},checked:i}),r.a.createElement('label',{className:J.a.label,htmlFor:t},a))},Q=a(13),H=a.n(Q),D=function(e){var t=e.handleCategoryChange;return r.a.createElement(N,null,(function(e){var a=e.categories;return r.a.createElement('ul',{className:H.a.categories},r.a.createElement('li',{className:H.a.category},r.a.createElement(B,{name:'books',title:'Books',handleCategoryChange:t('books'),categories:a})),r.a.createElement('li',{className:H.a.category},r.a.createElement(B,{name:'clothes',title:'Clothes',handleCategoryChange:t('clothes'),categories:a})))}))},T=a(22),A=a.n(T),G=function(e){var t=e.handleResetFilters;return r.a.createElement('button',{className:A.a.reset,type:'button',onClick:t},'\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b')},M=a(7),q=a.n(M),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:'render',value:function(){var e=this.props,t=e.handleInputChange,a=e.handleCategoryChange,n=e.handleResetFilters;return r.a.createElement('form',{className:q.a.filter},r.a.createElement('fieldset',{className:q.a.fieldset},r.a.createElement('legend',{className:q.a.title},'\u0426\u0435\u043d\u0430'),r.a.createElement(U,{handleInputChange:t})),r.a.createElement('fieldset',{className:q.a.fieldset},r.a.createElement(I,{title:'\u0421\u043a\u0438\u0434\u043a\u0430',name:'discount',handleInputChange:t('discount')})),r.a.createElement('fieldset',{className:q.a.fieldset},r.a.createElement('legend',{className:q.a.title},'\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438'),r.a.createElement(D,{handleCategoryChange:a})),r.a.createElement(G,{handleResetFilters:n}))}}]),a}(f),W=a(10),Z=a.n(W),X=a(5),K=a.n(X),Y=a(23),z=a.n(Y),$=a(14),ee=a.n($),te=function(e){var t=e.price,a=e.isSubPrice;return r.a.createElement('div',{className:K()([ee.a.price],{[ee.a.small]:a})},Object(h.formatMoney)(t,0,' ',' '),' ',r.a.createElement('span',{className:ee.a.unit},'\u20bd'))},ae=a(15),ne=a.n(ae),re=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?r.a.createElement(te,{price:e,isSubPrice:t}):''},ie=function(e){var t=e.isFilled;return r.a.createElement('div',{className:K()(ne.a.star,t&&ne.a.fill)})},ce=function(e){var t=e.products.map((function(e){var t=e.id,a=e.isInStock,n=e.img,i=e.title,c=e.price,o=e.subPriceContent,l=e.maxRating,s=e.rating;return r.a.createElement('li',{key:t,'data-testid':'product-list-item'},r.a.createElement(z.a,{isInStock:a,img:n,title:i,price:re(c),subPriceContent:re(o,!0),maxRating:l,rating:s,ratingComponent:ie}))}));return r.a.createElement('ul',{className:ne.a.products},t)},oe=a(9),le=a.n(oe),se=[{title:'\u041d\u0430\u0437\u0430\u0434',additionalClass:'prev'},{title:'1'},{title:'2'},{title:'3'},{title:'4'},{title:'5'},{title:'...'},{title:'13'},{title:'\u0412\u043f\u0435\u0440\u0435\u0434',additionalClass:'next'}],ue=function(){return r.a.createElement('ul',{className:le.a.pagination},se.map((function(e){var t=e.title,a=e.additionalClass,n=void 0!==a?le.a[a]:'';return r.a.createElement('li',{className:le.a.item,key:t},r.a.createElement('a',{className:K()(le.a.link,n),href:'https://github.com/stormdice'},t))})))},me=a(24),de=a.n(me),pe=function(){return r.a.createElement('h1',{className:de.a.title},'\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432')},ge=a(25),he=a.n(ge),fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:'render',value:function(){var e=this.props.products;return r.a.createElement('div',{className:he.a.products},r.a.createElement(pe,null),r.a.createElement(ce,{products:e}),r.a.createElement(ue,null))}}]),a}(f);fe.propTypes={products:Z.a.array.isRequired};var _e=fe,ve=a(26),Ce=a.n(ve),ye=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={products:[],min:'',minProductPrice:0,max:'',maxProductPrice:0,discount:0,categories:[]},e.parseCategoriesQueryFromUrl=function(){var t=new URL(window.location.href).searchParams.get('categories');e.setState({categories:t?t.split(','):[]})},e.getChangeHandlerForCategories=function(t){return function(a){var n=new Set(e.state.categories);n[a?'add':'delete'](t),e.setState({categories:Object(o.a)(n)})}},e.getChangeHandlerFor=function(t){return function(a){if(!('min'===t&&a>e.state.maxProductPrice))return'discount'===t&&a>100?e.state.discount:void e.setState({[t]:a})}},e.handleResetFilters=function(){e.setState({min:'',max:'',discount:0,categories:[]})},e}return Object(s.a)(a,[{key:'componentDidMount',value:function(){this.parseCategoriesQueryFromUrl(),window.addEventListener('popstate',this.parseCategoriesQueryFromUrl),this.setState({products:d.a.sort((function(e,t){return e.price-t.price})),minProductPrice:Object(h.minBy)((function(e){return e.price}),d.a).price,maxProductPrice:Object(h.maxBy)((function(e){return e.price}),d.a).price})}},{key:'componentDidUpdate',value:function(e,t){t.categories!==this.state.categories&&this.addCategoriesQueryToUrl()}},{key:'componentWillUnmount',value:function(){window.removeEventListener('popstate',this.parseCategoriesQueryFromUrl)}},{key:'addCategoriesQueryToUrl',value:function(){var e=new URL(window.location.href);e.searchParams.set('categories',this.state.categories),window.history.pushState(null,null,e)}},{key:'getFilteredProducts',value:function(e){var t=e.products,a=e.min,n=e.max,r=e.discount,i=e.categories;return t.filter((function(e){return function(e,t,a){return''===a?e:e.price>=t&&e.price<=a}(e,a,n)&&function(e,t){var a=e.discount;return 0===t||a===t}(e,r)&&function(e,t){var a=e.category;return 0===t.length||t.includes(a)}(e,i)}))}},{key:'render',value:function(){var e=this.state,t=e.products,a=e.min,n=e.max,i=e.discount,c=e.categories,o=this.getFilteredProducts({products:t,min:a,max:n,discount:i,categories:c});return r.a.createElement(j,{value:this.state},r.a.createElement('div',{className:Ce.a.container},r.a.createElement(V,{handleInputChange:this.getChangeHandlerFor,handleCategoryChange:this.getChangeHandlerForCategories,handleResetFilters:this.handleResetFilters}),r.a.createElement(_e,{products:o})))}}]),a}(n.Component),be=document.getElementById('root');c.a.render(r.a.createElement(ye,null),be)}],[[28,1,2]]]);
//# sourceMappingURL=main.538a1ce8.chunk.js.map